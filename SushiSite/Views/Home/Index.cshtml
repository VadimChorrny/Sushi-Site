@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@model IEnumerable<SushiSite.Models.Food>;

@{
    ViewData["Title"] = "Home Page";
}

<div style="display: flex; flex-direction: row; flex-wrap: wrap; gap: 20px; ">
    @if (Model.Any())
    {

        @foreach (var food in Model)
        {
            <partial name="_SushiCartPartial" model="@food"/>
        }
    }
    else
    {
        <h1>List is empty!</h1>
        <img src="https://media.hswstatic.com/eyJidWNrZXQiOiJjb250ZW50Lmhzd3N0YXRpYy5jb20iLCJrZXkiOiJnaWZcL2ZlZWRpbmctY2F0LmpwZyIsImVkaXRzIjp7InJlc2l6ZSI6eyJ3aWR0aCI6ODI4fX19" />
    }
</div>

@* Client Validation *@
@section Scripts {
<script>
    $(function () {
        $('a.thumbnail').click(function (e) {
            e.preventDefault();
            $('#image-modal .modal-body img').attr('src', $(this).find('img').attr('src'));
            $("#image-modal").modal('show');
            console.log("Clicked");
        });
        $('#image-modal .modal-body img').on('click', function () {
            $("#image-modal").modal('hide')
        });
    });
</script>
}